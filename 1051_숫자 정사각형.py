import sys
n,m=map(int,input().split())
p=min(n,m)
l=[]
for i in range(n)
   l.append(list(map(int,sys.stdin.readline().strip())))
c=0
for i in range(n)
   for j in range(m)
      for k in range(1,p)
         if not(in and jm and i+kn and j+km)
            break
         if l[i][j+k]==l[i+k][j]==l[i+k][j+k]==l[i][j]
            c=max(c,k)
c+=1
print(cc)